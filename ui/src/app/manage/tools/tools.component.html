<h1><ng-container i18n>Tools</ng-container></h1>

<div class="clr-row">
  <div class="clr-col-lg-6 clr-col-md-12 clr-col-12" appRole appFeature="streams">
    <app-view-card titleModal="Streams" keyContext="import-export" name="import-export" id="streams">
      <ng-template>
        <div>
          <clr-icon shape="angle" style="transform: rotate(90deg)"></clr-icon>
          <a href="{{ baseApiUrl }}#" (click)="run('export-stream')">
            <ng-container i18n>Export stream(s): Create a JSON file with the selected streams</ng-container>
          </a>
        </div>
        <div [appRole]="['ROLE_CREATE']">
          <clr-icon shape="angle" style="transform: rotate(90deg)"></clr-icon>
          <a href="{{ baseApiUrl }}#" (click)="run('import-stream')">
            <ng-container i18n>Import stream(s): Import streams from a JSON file</ng-container>
          </a>
        </div>
      </ng-template>
    </app-view-card>

    <app-view-card titleModal="Clean up Task Executions" keyContext="import-export" name="import-export" id="cleanup">
      <ng-template>
        <div>
          <clr-icon shape="angle" style="transform: rotate(90deg)"></clr-icon>
          <a href="{{ baseApiUrl }}#" (click)="run('cleanup-all')"><ng-container i18n>Clean up all task/job executions</ng-container></a>
        </div>
        <div>
          <clr-icon shape="angle" style="transform: rotate(90deg)"></clr-icon>
          <a href="{{ baseApiUrl }}#" (click)="run('cleanup-completed')"><ng-container i18n>Clean up all completed task/job executions</ng-container></a>
        </div>
      </ng-template>
    </app-view-card>
  </div>
  <div class="clr-col-lg-6 clr-col-md-12 clr-col-12" appRole appFeature="tasks">
    <app-view-card titleModal="Tasks" keyContext="import-export" name="import-export" id="tasks">
      <ng-template>
        <div>
          <clr-icon shape="angle" style="transform: rotate(90deg)"></clr-icon>
          <a href="{{ baseApiUrl }}#" (click)="run('export-task')">
            <ng-container i18n>Export task(s): Create a JSON file with the selected tasks</ng-container>
          </a>
        </div>
        <div [appRole]="['ROLE_CREATE']">
          <clr-icon shape="angle" style="transform: rotate(90deg)"></clr-icon>
          <a href="{{ baseApiUrl }}#" (click)="run('import-task')"><ng-container i18n>Import task(s): Import tasks from a JSON file</ng-container></a>
        </div>
      </ng-template>
    </app-view-card>
  </div>
</div>

<app-manage-stream-import #streamImportModal></app-manage-stream-import>
<app-manage-stream-export #streamExportModal></app-manage-stream-export>

<app-manage-task-export #taskExportModal></app-manage-task-export>
<app-manage-task-import #taskImportModal></app-manage-task-import>

<app-tools-cleanup #cleanupModal></app-tools-cleanup>
